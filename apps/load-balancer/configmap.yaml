apiVersion: v1
kind: ConfigMap
metadata:
  name: load-balancer-config
  namespace: apps
data:
  application.properties: |
    # Load balancer defaults.
    # This file is read by the Go load balancer service.

    app.load-balancer.enabled=true
    app.load-balancer.host=0.0.0.0
    app.load-balancer.port=12000
    app.load-balancer.backlog=128

    # K8s DNS discovery (headless service)
    app.load-balancer.discovery-dns=can-cache-headless.apps.svc.cluster.local
    app.load-balancer.discovery-interval-millis=5000

    app.load-balancer.connect-timeout-millis=3000

    # Static node list used when multicast discovery is disabled.
    # K8s'te 127.0.0.1 yanlış; service DNS kullan.
    app.load-balancer.static-nodes=can-cache.apps.svc.cluster.local:11211

    app.network.agreement-pack-message=HELLO

    app.cluster.discovery.multicast-group=230.0.0.1
    app.cluster.discovery.multicast-port=45565
    app.cluster.discovery.heartbeat-interval-millis=5000
    app.cluster.discovery.failure-timeout-millis=15000

    app.network.host=0.0.0.0
    app.network.port=11211
